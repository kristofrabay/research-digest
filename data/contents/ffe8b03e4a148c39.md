# langchain-mcp-adapters Â¶

**URL:** https://reference.langchain.com/python/langchain_mcp_adapters/
**Published:** None

---

## Summary

The provided web page details the `langchain-mcp-adapters` package, which facilitates connecting LangChain applications to **MCP servers**.

Here is a summary of how the page relates to your query:

*   **agent\_infrastructure: MCP servers**: The core of the documentation is about connecting to and interacting with **MCP servers** using the `MultiServerMCPClient`.
*   **tool use**: The package includes functionality to load **LangChain-compatible tools** from MCP servers (`get_tools`, `load_mcp_tools`) and manage tool execution via **interceptors** (`ToolCallInterceptor`).
*   **agent frameworks, LangChain**: The package explicitly adapts MCP components (tools, prompts, resources) to be **LangChain-compatible**.
*   **function calling, structured outputs**: The `MCPToolArtifact` indicates that structured content is returned from MCP tool calls, which relates to structured outputs often used in function calling patterns.
*   **agent memory, agentic memory, agent orchestration, LangChain, LlamaIndex, OpenAI Agents SDK, Anthropic Agents SDK, Google SDK**: **No direct information** is provided in this document regarding agent memory, agentic memory, orchestration, or specific SDKs like LlamaIndex, OpenAI Agents SDK, Anthropic Agents SDK, or Google SDK. The focus is purely on the adapter layer between LangChain and MCP servers.

**In summary:** This page describes the LangChain adapter for interacting with **MCP servers** to load **tools** and **prompts**, which are components of an agent infrastructure. It does not cover agent memory, agentic memory, or the other specific agent frameworks/concepts listed in your query.

---

## Full Content

MCP Adapters | LangChain Reference
[Skip to content](#langchain-mcp-adapters)
[](https://github.com/langchain-ai/docs/tree/main/reference/python/docs/langchain_mcp_adapters/index.md)# `langchain-mcp-adapters`[&para;](#langchain-mcp-adapters)
[![PyPI - Version](https://img.shields.io/pypi/v/langchain-mcp-adapters?label=%20)](https://pypi.org/project/langchain-mcp-adapters/#history)[![PyPI - License](https://img.shields.io/pypi/l/langchain-mcp-adapters)](https://opensource.org/licenses/MIT)[![PyPI - Downloads](https://img.shields.io/pepy/dt/langchain-mcp-adapters)](https://pypistats.org/packages/langchain-mcp-adapters)
Reference documentation for the[`langchain-mcp-adapters`](https://pypi.org/project/langchain-mcp-adapters/)package.
## ``client[&para;](#langchain_mcp_adapters.client)
Client for connecting to multiple MCP servers and loading LC tools/resources.
This module provides the`MultiServerMCPClient`class for managing connections
to multiple MCP servers and loading tools, prompts, and resources from them.
### ``MultiServerMCPClient[&para;](#langchain_mcp_adapters.client.MultiServerMCPClient)
Client for connecting to multiple MCP servers.
Loads LangChain-compatible tools, prompts and resources from MCP servers.
|METHOD|DESCRIPTION|
`[\_\_init\_\_](#langchain_mcp_adapters.client.MultiServerMCPClient.__init__)`|
Initialize a`MultiServerMCPClient`with MCP servers connections.
|
`[session](#langchain_mcp_adapters.client.MultiServerMCPClient.session)`|
Connect to an MCP server and initialize a session.
|
`[get\_tools](#langchain_mcp_adapters.client.MultiServerMCPClient.get_tools)`|
Get a list of all tools from all connected servers.
|
`[get\_prompt](#langchain_mcp_adapters.client.MultiServerMCPClient.get_prompt)`|
Get a prompt from a given MCP server.
|
`[get\_resources](#langchain_mcp_adapters.client.MultiServerMCPClient.get_resources)`|
Get resources from MCP server(s).
|
`[\_\_aenter\_\_](#langchain_mcp_adapters.client.MultiServerMCPClient.__aenter__)`|
Async context manager entry point.
|
`[\_\_aexit\_\_](#langchain_mcp_adapters.client.MultiServerMCPClient.__aexit__)`|
Async context manager exit point.
|
#### ``\_\_init\_\_[&para;](#langchain_mcp_adapters.client.MultiServerMCPClient.__init__)
```
`[](#__codelineno-0-1)\_\_init\_\_([](#__codelineno-0-2)connections:[dict](https://docs.python.org/3/library/stdtypes.html#dict)[[str](https://docs.python.org/3/library/stdtypes.html#str),[Connection](#langchain_mcp_adapters.sessions.Connection)]|None=None,[](#__codelineno-0-3)\*,[](#__codelineno-0-4)callbacks:[Callbacks](#langchain_mcp_adapters.callbacks.Callbacks)|None=None,[](#__codelineno-0-5)tool\_interceptors:[list](https://docs.python.org/3/library/stdtypes.html#list)[[ToolCallInterceptor](#langchain_mcp_adapters.interceptors.ToolCallInterceptor)]|None=None,[](#__codelineno-0-6)tool\_name\_prefix:[bool](https://docs.python.org/3/library/functions.html#bool)=False,[](#__codelineno-0-7))-&gt;None`
```
Initialize a`MultiServerMCPClient`with MCP servers connections.
|PARAMETER|DESCRIPTION|
`connections`|
A`dict`mapping server names to connection configurations. If`None`, no initial connections are established.
**TYPE:**`[dict](https://docs.python.org/3/library/stdtypes.html#dict)[[str](https://docs.python.org/3/library/stdtypes.html#str),[Connection](#langchain_mcp_adapters.sessions.Connection)] | None`**DEFAULT:**`None`
|
`callbacks`|
Optional callbacks for handling notifications and events.
**TYPE:**`[Callbacks](#langchain_mcp_adapters.callbacks.Callbacks)| None`**DEFAULT:**`None`
|
`tool\_interceptors`|
Optional list of tool call interceptors for modifying
requests and responses.
**TYPE:**`[list](https://docs.python.org/3/library/stdtypes.html#list)[[ToolCallInterceptor](#langchain_mcp_adapters.interceptors.ToolCallInterceptor)] | None`**DEFAULT:**`None`
|
`tool\_name\_prefix`|
If`True`, tool names are prefixed with the server name
using an underscore separator (e.g.,`"weather\_search"`instead of`"search"`). This helps avoid conflicts when multiple servers have tools
with the same name. Defaults to`False`.
**TYPE:**`[bool](https://docs.python.org/3/library/functions.html#bool)`**DEFAULT:**`False`
|
Basic usage (starting a new session on each tool call)
```
`[](#__codelineno-0-1)fromlangchain\_mcp\_adapters.clientimportMultiServerMCPClient[](#__codelineno-0-2)[](#__codelineno-0-3)client=MultiServerMCPClient([](#__codelineno-0-4){[](#__codelineno-0-5)&quot;math&quot;:{[](#__codelineno-0-6)&quot;command&quot;:&quot;python&quot;,[](#__codelineno-0-7)# Make sure to update to the full absolute path to your[](#__codelineno-0-8)# math\_server.py file[](#__codelineno-0-9)&quot;args&quot;:[&quot;&quot;/path/to/math\_server.py&quot;&quot;],[](#__codelineno-0-10)&quot;transport&quot;:&quot;stdio&quot;,[](#__codelineno-0-11)},[](#__codelineno-0-12)&quot;weather&quot;:{[](#__codelineno-0-13)# Make sure you start your weather server on port 8000[](#__codelineno-0-14)&quot;url&quot;:&quot;http://localhost:8000/mcp&quot;,[](#__codelineno-0-15)&quot;transport&quot;:&quot;http&quot;,[](#__codelineno-0-16)}[](#__codelineno-0-17)}[](#__codelineno-0-18))[](#__codelineno-0-19)all\_tools=awaitclient.get\_tools()`
```
Explicitly starting a session
```
`[](#__codelineno-1-1)fromlangchain\_mcp\_adapters.clientimportMultiServerMCPClient[](#__codelineno-1-2)fromlangchain\_mcp\_adapters.toolsimportload\_mcp\_tools[](#__codelineno-1-3)[](#__codelineno-1-4)client=MultiServerMCPClient({...})[](#__codelineno-1-5)asyncwithclient.session(&quot;math&quot;)assession:[](#__codelineno-1-6)tools=awaitload\_mcp\_tools(session)`
```
#### ``session`async`[&para;](#langchain_mcp_adapters.client.MultiServerMCPClient.session)
```
`[](#__codelineno-0-1)session([](#__codelineno-0-2)server\_name:[str](https://docs.python.org/3/library/stdtypes.html#str),\*,auto\_initialize:[bool](https://docs.python.org/3/library/functions.html#bool)=True[](#__codelineno-0-3))-&gt;[AsyncIterator](https://docs.python.org/3/library/collections.abc.html#collections.abc.AsyncIterator)[ClientSession]`
```
Connect to an MCP server and initialize a session.
|PARAMETER|DESCRIPTION|
`server\_name`|
Name to identify this server connection
**TYPE:**`[str](https://docs.python.org/3/library/stdtypes.html#str)`
|
`auto\_initialize`|
Whether to automatically initialize the session
**TYPE:**`[bool](https://docs.python.org/3/library/functions.html#bool)`**DEFAULT:**`True`
|
|RAISES|DESCRIPTION|
`[ValueError](https://docs.python.org/3/library/exceptions.html#ValueError)`|
If the server name is not found in the connections
|
|YIELDS|DESCRIPTION|
`[AsyncIterator](https://docs.python.org/3/library/collections.abc.html#collections.abc.AsyncIterator)[ClientSession]`|
An initialized`ClientSession`
|
#### ``get\_tools`async`[&para;](#langchain_mcp_adapters.client.MultiServerMCPClient.get_tools)
```
`[](#__codelineno-0-1)get\_tools(\*,server\_name:[str](https://docs.python.org/3/library/stdtypes.html#str)|None=None)-&gt;[list](https://docs.python.org/3/library/stdtypes.html#list)[[BaseTool](../langchain/tools/#langchain.tools.BaseTool)]`
```
Get a list of all tools from all connected servers.
|PARAMETER|DESCRIPTION|
`server\_name`|
Optional name of the server to get tools from.
If`None`, all tools from all servers will be returned.
**TYPE:**`[str](https://docs.python.org/3/library/stdtypes.html#str)| None`**DEFAULT:**`None`
|
Note
A new session will be created for each tool call
|RETURNS|DESCRIPTION|
`[list](https://docs.python.org/3/library/stdtypes.html#list)[[BaseTool](../langchain/tools/#langchain.tools.BaseTool)]`|
A list of LangChain[tools](https://docs.langchain.com/oss/python/langchain/tools)
|
#### ``get\_prompt`async`[&para;](#langchain_mcp_adapters.client.MultiServerMCPClient.get_prompt)
```
`[](#__codelineno-0-1)get\_prompt([](#__codelineno-0-2)server\_name:[str](https://docs.python.org/3/library/stdtypes.html#str),prompt\_name:[str](https://docs.python.org/3/library/stdtypes.html#str),\*,arguments:[dict](https://docs.python.org/3/library/stdtypes.html#dict)[[str](https://docs.python.org/3/library/stdtypes.html#str),[Any](https://docs.python.org/3/library/typing.html#typing.Any)]|None=None[](#__codelineno-0-3))-&gt;[list](https://docs.python.org/3/library/stdtypes.html#list)[[HumanMessage](../langchain/messages/#langchain.messages.HumanMessage)|[AIMessage](../langchain/messages/#langchain.messages.AIMessage)]`
```
Get a prompt from a given MCP server.
#### ``get\_resources`async`[&para;](#langchain_mcp_adapters.client.MultiServerMCPClient.get_resources)
```
`[](#__codelineno-0-1)get\_resources([](#__codelineno-0-2)server\_name:[str](https://docs.python.org/3/library/stdtypes.html#str)|None=None,\*,uris:[str](https://docs.python.org/3/library/stdtypes.html#str)|[list](https://docs.python.org/3/library/stdtypes.html#list)[[str](https://docs.python.org/3/library/stdtypes.html#str)]|None=None[](#__codelineno-0-3))-&gt;[list](https://docs.python.org/3/library/stdtypes.html#list)[[Blob](../langchain_core/documents/#langchain_core.documents.base.Blob)]`
```
Get resources from MCP server(s).
|PARAMETER|DESCRIPTION|
`server\_name`|
Optional name of the server to get resources from.
If`None`, all resources from all servers will be returned.
**TYPE:**`[str](https://docs.python.org/3/library/stdtypes.html#str)| None`**DEFAULT:**`None`
|
`uris`|
Optional resource URI or list of URIs to load. If not provided,
all resources will be loaded.
**TYPE:**`[str](https://docs.python.org/3/library/stdtypes.html#str)|[list](https://docs.python.org/3/library/stdtypes.html#list)[[str](https://docs.python.org/3/library/stdtypes.html#str)] | None`**DEFAULT:**`None`
|
|RETURNS|DESCRIPTION|
`[list](https://docs.python.org/3/library/stdtypes.html#list)[[Blob](../langchain_core/documents/#langchain_core.documents.base.Blob)]`|
A list of LangChain[Blob](../langchain_core/documents/#langchain_core.documents.base.Blob)objects.
|
#### ``\_\_aenter\_\_`async`[&para;](#langchain_mcp_adapters.client.MultiServerMCPClient.__aenter__)
```
`[](#__codelineno-0-1)\_\_aenter\_\_()-&gt;[MultiServerMCPClient](#langchain_mcp_adapters.client.MultiServerMCPClient)`
```
Async context manager entry point.
|RAISES|DESCRIPTION|
`[NotImplementedError](https://docs.python.org/3/library/exceptions.html#NotImplementedError)`|
Context manager support has been removed.
|
#### ``\_\_aexit\_\_[&para;](#langchain_mcp_adapters.client.MultiServerMCPClient.__aexit__)
```
`[](#__codelineno-0-1)\_\_aexit\_\_([](#__codelineno-0-2)exc\_type:[type](https://docs.python.org/3/library/functions.html#type)[[BaseException](https://docs.python.org/3/library/exceptions.html#BaseException)]|None,[](#__codelineno-0-3)exc\_val:[BaseException](https://docs.python.org/3/library/exceptions.html#BaseException)|None,[](#__codelineno-0-4)exc\_tb:[TracebackType](https://docs.python.org/3/library/types.html#types.TracebackType)|None,[](#__codelineno-0-5))-&gt;None`
```
Async context manager exit point.
|PARAMETER|DESCRIPTION|
`exc\_type`|
Exception type if an exception occurred.
**TYPE:**`[type](https://docs.python.org/3/library/functions.html#type)[[BaseException](https://docs.python.org/3/library/exceptions.html#BaseException)] | None`
|
`exc\_val`|
Exception value if an exception occurred.
**TYPE:**`[BaseException](https://docs.python.org/3/library/exceptions.html#BaseException)| None`
|
`exc\_tb`|
Exception traceback if an exception occurred.
**TYPE:**`[TracebackType](https://docs.python.org/3/library/types.html#types.TracebackType)| None`
|
|RAISES|DESCRIPTION|
`[NotImplementedError](https://docs.python.org/3/library/exceptions.html#NotImplementedError)`|
Context manager support has been removed.
|
## ``tools[&para;](#langchain_mcp_adapters.tools)
Tools adapter for converting MCP tools to LangChain tools.
This module provides functionality to convert MCP tools into LangChain-compatible
tools, handle tool execution, and manage tool conversion between the two formats.
|FUNCTION|DESCRIPTION|
`[load\_mcp\_tools](#langchain_mcp_adapters.tools.load_mcp_tools)`|
Load all available MCP tools and convert them to LangChain[tools](https://docs.langchain.com/oss/python/langchain/tools).
|
### ``MCPToolArtifact[&para;](#langchain_mcp_adapters.tools.MCPToolArtifact)
Bases:`[TypedDict](https://docs.python.org/3/library/typing.html#typing.TypedDict)`
Artifact returned from MCP tool calls.
This TypedDict wraps the structured content from MCP tool calls,
allowing for future extension if MCP adds more fields to tool results.
|ATTRIBUTE|DESCRIPTION|
`structured\_content`|
The structured content returned by the MCP tool,
corresponding to the structuredContent field in CallToolResult.
**TYPE:**`[dict](https://docs.python.org/3/library/stdtypes.html#dict)[[str](https://docs.python.org/3/library/stdtypes.html#str),[Any](https://docs.python.org/3/library/typing.html#typing.Any)]`
|
### ``load\_mcp\_tools`async`[&para;](#langchain_mcp_adapters.tools.load_mcp_tools)
```
`[](#__codelineno-0-1)load\_mcp\_tools([](#__codelineno-0-2)session:ClientSession|None,[](#__codelineno-0-3)\*,[](#__codelineno-0-4)connection:[Connection](#langchain_mcp_adapters.sessions.Connection)|None=None,[](#__codelineno-0-5)callbacks:[Callbacks](#langchain_mcp_adapters.callbacks.Callbacks)|None=None,[](#__codelineno-0-6)tool\_interceptors:[list](https://docs.python.org/3/library/stdtypes.html#list)[[ToolCallInterceptor](#langchain_mcp_adapters.interceptors.ToolCallInterceptor)]|None=None,[](#__codelineno-0-7)server\_name:[str](https://docs.python.org/3/library/stdtypes.html#str)|None=None,[](#__codelineno-0-8)tool\_name\_prefix:[bool](https://docs.python.org/3/library/functions.html#bool)=False,[](#__codelineno-0-9))-&gt;[list](https://docs.python.org/3/library/stdtypes.html#list)[[BaseTool](../langchain/tools/#langchain.tools.BaseTool)]`
```
Load all available MCP tools and convert them to LangChain[tools](https://docs.langchain.com/oss/python/langchain/tools).
|PARAMETER|DESCRIPTION|
`session`|
The MCP client session. If`None`, connection must be provided.
**TYPE:**`ClientSession| None`
|
`connection`|
Connection config to create a new session if session is`None`.
**TYPE:**`[Connection](#langchain_mcp_adapters.sessions.Connection)| None`**DEFAULT:**`None`
|
`callbacks`|
Optional`Callbacks`for handling notifications and events.
**TYPE:**`[Callbacks](#langchain_mcp_adapters.callbacks.Callbacks)| None`**DEFAULT:**`None`
|
`tool\_interceptors`|
Optional list of interceptors for tool call processing.
**TYPE:**`[list](https://docs.python.org/3/library/stdtypes.html#list)[[ToolCallInterceptor](#langchain_mcp_adapters.interceptors.ToolCallInterceptor)] | None`**DEFAULT:**`None`
|
`server\_name`|
Name of the server these tools belong to.
**TYPE:**`[str](https://docs.python.org/3/library/stdtypes.html#str)| None`**DEFAULT:**`None`
|
`tool\_name\_prefix`|
If`True`and`server\_name`is provided, tool names will be
prefixed w/ server name (e.g.,`"weather\_search"`instead of`"search"`).
**TYPE:**`[bool](https://docs.python.org/3/library/functions.html#bool)`**DEFAULT:**`False`
|
|RETURNS|DESCRIPTION|
`[list](https://docs.python.org/3/library/stdtypes.html#list)[[BaseTool](../langchain/tools/#langchain.tools.BaseTool)]`|
List of LangChain[tools](https://docs.langchain.com/oss/python/langchain/tools).
Tool annotations are returned as part of the tool metadata object.
|
|RAISES|DESCRIPTION|
`[ValueError](https://docs.python.org/3/library/exceptions.html#ValueError)`|
If neither session nor connection is provided.
|
## ``prompts[&para;](#langchain_mcp_adapters.prompts)
Prompts adapter for converting MCP prompts to LangChain[messages](https://docs.langchain.com/oss/python/langchain/messages).
This module provides functionality to convert MCP prompt messages into LangChain
message objects, handling both user and assistant message types.
|FUNCTION|DESCRIPTION|
`[load\_mcp\_prompt](#langchain_mcp_adapters.prompts.load_mcp_prompt)`|
Load MCP prompt and convert to LangChain[messages](https://docs.langchain.com/oss/python/langchain/messages).
|
### ``load\_mcp\_prompt`async`[&para;](#langchain_mcp_adapters.prompts.load_mcp_prompt)
```
`[](#__codelineno-0-1)load\_mcp\_prompt([](#__codelineno-0-2)session:ClientSession,name:[str](https://docs.python.org/3/library/stdtypes.html#str),\*,arguments:[dict](https://docs.python.org/3/library/stdtypes.html#dict)[[str](https://docs.python.org/3/library/stdtypes.html#str),[Any](https://docs.python.org/3/library/typing.html#typing.Any)]|None=None[](#__codelineno-0-3))-&gt;[list](https://docs.python.org/3/library/stdtypes.html#list)[[HumanMessage](../langchain/messages/#langchain.messages.HumanMessage)|[AIMessage](../langchain/messages/#langchain.messages.AIMessage)]`
```
Load MCP prompt and convert to LangChain[messages](https://docs.langchain.com/oss/python/langchain/messages).
|PARAMETER|DESCRIPTION|
`session`|
The MCP client session.
**TYPE:**`ClientSession`
|
`name`|
Name of the prompt to load.
**TYPE:**`[str](https://docs.python.org/3/library/stdtypes.html#str)`
|
`arguments`|
Optional arguments to pass to the prompt.
**TYPE:**`[dict](https://docs.python.org/3/library/stdtypes.html#dict)[[str](https://docs.python.org/3/library/stdtypes.html#str),[Any](https://docs.python.org/3/library/typing.html#typing.Any)] | None`**DEFAULT:**`None`
|
|RETURNS|DESCRIPTION|
`[list](https://docs.python.org/3/library/stdtypes.html#list)[[HumanMessage](../langchain/messages/#langchain.messages.HumanMessage)|[AIMessage](../langchain/messages/#langchain.messages.AIMessage)]`|
A list of LangChain[messages](https://docs.langchain.com/oss/python/langchain/messages)converted from the MCP prompt.
|
## ``resources[&para;](#langchain_mcp_adapters.resources)
Resources adapter for converting MCP resources to LangChain[Blob objects](../langchain_core/documents/#langchain_core.documents.base.Blob).
This module provides functionality to convert MCP resources into LangChain Blob
objects, handling both text and binary resource content types.
|FUNCTION|DESCRIPTION|
`[load\_mcp\_resources](#langchain_mcp_adapters.resources.load_mcp_resources)`|
Load MCP resources and convert them to LangChain[Blob objects](../langchain_core/documents/#langchain_core.documents.base.Blob).
|
### ``load\_mcp\_resources`async`[&para;](#langchain_mcp_adapters.resources.load_mcp_resources)
```
`[](#__codelineno-0-1)load\_mcp\_resources([](#__codelineno-0-2)session:ClientSession,\*,uris:[str](https://docs.python.org/3/library/stdtypes.html#str)|[list](https://docs.python.org/3/library/stdtypes.html#list)[[str](https://docs.python.org/3/library/stdtypes.html#str)]|None=None[](#__codelineno-0-3))-&gt;[list](https://docs.python.org/3/library/stdtypes.html#list)[[Blob](../langchain_core/documents/#langchain_core.documents.base.Blob)]`
```
Load MCP resources and convert them to LangChain[Blob objects](../langchain_core/documents/#langchain_core.documents.base.Blob).
|PARAMETER|DESCRIPTION|
`session`|
MCP client session.
**TYPE:**`ClientSession`
|
`uris`|
List of URIs to load. If`None`, all resources will be loaded.
Note
Dynamic resources will NOT be loaded when`None`is specified,
as they require parameters and are ignored by the MCP SDK's`session.list\_resources()`method.
**TYPE:**`[str](https://docs.python.org/3/library/stdtypes.html#str)|[list](https://docs.python.org/3/library/stdtypes.html#list)[[str](https://docs.python.org/3/library/stdtypes.html#str)] | None`**DEFAULT:**`None`
|
|RETURNS|DESCRIPTION|
`[list](https://docs.python.org/3/library/stdtypes.html#list)[[Blob](../langchain_core/documents/#langchain_core.documents.base.Blob)]`|
A list of LangChain[Blob](../langchain_core/documents/#langchain_core.documents.base.Blob)objects.
|
|RAISES|DESCRIPTION|
`[RuntimeError](https://docs.python.org/3/library/exceptions.html#RuntimeError)`|
If an error occurs while fetching a resource.
|
## ``interceptors[&para;](#langchain_mcp_adapters.interceptors)
Interceptor interfaces and types for MCP client tool call lifecycle management.
This module provides an interceptor interface for wrapping and controlling
MCP tool call execution with a handler callback pattern.
In the future, we might add more interceptors for other parts of the
request / result lifecycle, for example to support elicitation.
### ``ToolCallInterceptor[&para;](#langchain_mcp_adapters.interceptors.ToolCallInterceptor)
Bases:`[Protocol](https://docs.python.org/3/library/typing.html#typing.Protocol)`
Protocol for tool call interceptors using handler callback pattern.
Interceptors wrap tool execution to enable request/response modification,
retry logic, caching, rate limiting, and other cross-cutting concerns.
Multiple interceptors compose in "onion" pattern (first is outermost).
The handler can be called multiple times (retry), skipped (caching/short-circuit),
or wrapped with error handling. Each handler call is independent.
Similar to LangChain's middleware pattern but adapted for MCP remote tools.
|METHOD|DESCRIPTION|
`[\_\_call\_\_](#langchain_mcp_adapters.interceptors.ToolCallInterceptor.__call__)`|
Intercept tool execution with control over handler invocation.
|
#### ``\_\_call\_\_`async`[&para;](#langchain_mcp_adapters.interceptors.ToolCallInterceptor.__call__)
```
`[](#__codelineno-0-1)\_\_call\_\_([](#__codelineno-0-2)request:MCPToolCallRequest,[](#__codelineno-0-3)handler:[Callable](https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable)[[MCPToolCallRequest],[Awaitable](https://docs.python.org/3/library/collections.abc.html#collections.abc.Awaitable)[MCPToolCallResult]],[](#__codelineno-0-4))-&gt;MCPToolCallResult`
```
Intercept tool execution with control over handler invocation.
|PARAMETER|DESCRIPTION|
`request`|
Tool call request containing name, args, headers, and context
(server\_name, runtime). Access context fields like request.server\_name.
**TYPE:**`MCPToolCallRequest`
|
`handler`|
Async callable executing the tool. Can be called multiple
times, skipped, or wrapped for error handling.
**TYPE:**`[Callable](https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable)[[MCPToolCallRequest],[Awaitable](https://docs.python.org/3/library/collections.abc.html#collections.abc.Awaitable)[MCPToolCallResult]]`
|
|RETURNS|DESCRIPTION|
`MCPToolCallResult`|
Final MCPToolCallResult from tool execution or interceptor logic.
|
## ``callbacks[&para;](#langchain_mcp_adapters.callbacks)
Types for callbacks.
### ``CallbackContext`dataclass`[&para;](#langchain_mcp_adapters.callbacks.CallbackContext)
LangChain MCP client callback context.
### ``Callbacks`dataclass`[&para;](#langchain_mcp_adapters.callbacks.Callbacks)
Callbacks for the LangChain MCP client.
|METHOD|DESCRIPTION|
`[to\_mcp\_format](#langchain_mcp_adapters.callbacks.Callbacks.to_mcp_format)`|
Convert the LangChain MCP client callbacks to MCP SDK callbacks.
|
#### ``to\_mcp\_format[&para;](#langchain_mcp_adapters.callbacks.Callbacks.to_mcp_format)
```
`[](#__codelineno-0-1)to\_mcp\_format(\*,context:[CallbackContext](#langchain_mcp_adapters.callbacks.CallbackContext))-&gt;\_MCPCallbacks`
```
Convert the LangChain MCP client callbacks to MCP SDK callbacks.
Injects the LangChain CallbackContext as the last argument.
## ``sessions[&para;](#langchain_mcp_adapters.sessions)
Session management for different MCP transport types.
This module provides connection configurations and session management for various
MCP transport types including stdio, SSE, WebSocket, and streamable HTTP.
### ``Connection`module-attribute`[&para;](#langchain_mcp_adapters.sessions.Connection)
```
`[](#__codelineno-0-1)Connection=([](#__codelineno-0-2)[StdioConnection](#langchain_mcp_adapters.sessions.StdioConnection)|[SSEConnection](#langchain_mcp_adapters.sessions.SSEConnection)|[StreamableHttpConnection](#langchain_mcp_adapters.sessions.StreamableHttpConnection)|[WebsocketConnection](#langchain_mcp_adapters.sessions.WebsocketConnection)[](#__codelineno-0-3))`
```
### ``SSEConnection[&para;](#langchain_mcp_adapters.sessions.SSEConnection)
Bases:`[TypedDict](https://typing-extensions.readthedocs.io/en/latest/index.html#typing_extensions.TypedDict)`
Configuration for Server-Sent Events (SSE) transport connections to MCP.
#### ``url`instance-attribute`[&para;](#langchain_mcp_adapters.sessions.SSEConnection.url)
```
`[](#__codelineno-0-1)url:[str](https://docs.python.org/3/library/stdtypes.html#str)`
```
The URL of the SSE endpoint to connect to.
#### ``headers`instance-attribute`[&para;](#langchain_mcp_adapters.sessions.SSEConnection.headers)
```
`[](#__codelineno-0-1)headers:[NotRequired](https://typing-extensions.readthedocs.io/en/latest/index.html#typing_extensions.NotRequired)[[dict](https://docs.python.org/3/library/stdtypes.html#dict)[[str](https://docs.python.org/3/library/stdtypes.html#str),[Any](https://docs.python.org/3/library/typing.html#typing.Any)]|None]`
```
HTTP headers to send to the SSE endpoint.
#### ``timeout`instance-attribute`[&para;](#langchain_mcp_adapters.sessions.SSEConnection.timeout)
```
`[](#__codelineno-0-1)timeout:[NotRequired](https://typing-extensions.readthedocs.io/en/latest/index.html#typing_extensions.NotRequired)[[float](https://docs.python.org/3/library/functions.html#float)]`
```
HTTP timeout.
Default is 5 seconds. If the server takes longer to respond,
you can increase this value.
#### ``sse\_read\_timeout`instance-attribute`[&para;](#langchain_mcp_adapters.sessions.SSEConnection.sse_read_timeout)
```
`[](#__codelineno-0-1)sse\_read\_timeout:[NotRequired](https://typing-extensions.readthedocs.io/en/latest/index.html#typing_extensions.NotRequired)[[float](https://docs.python.org/3/library/functions.html#float)]`
```
SSE read timeout.
Default is 300 seconds (5 minutes). This is how long the client will
wait for a new event before disconnecting.
#### ``session\_kwargs`instance-attribute`[&para;](#langchain_mcp_adapters.sessions.SSEConnection.session_kwargs)
```
`[](#__codelineno-0-1)session\_kwargs:[NotRequired](https://typing-extensions.readthedocs.io/en/latest/index.html#typing_extensions.NotRequired)[[dict](https://docs.python.org/3/library/stdtypes.html#dict)[[str](https://docs.python.org/3/library/stdtypes.html#str),[Any](https://docs.python.org/3/library/typing.html#typing.Any)]|None]`
```
Additional keyword arguments to pass to the ClientSession.
#### ``httpx\_client\_factory`instance-attribute`[&para;](#langchain_mcp_adapters.sessions.SSEConnection.httpx_client_factory)
```
`[](#__codelineno-0-1)httpx\_client\_factory:[NotRequired](https://typing-extensions.readthedocs.io/en/latest/index.html#typing_extensions.NotRequired)[McpHttpClientFactory|None]`
```
Custom factory for httpx.AsyncClient (optional).
#### ``auth`instance-attribute`[&para;](#langchain_mcp_adapters.sessions.SSEConnection.auth)
```
`[](#__codelineno-0-1)auth:[NotRequired](https://typing-extensions.readthedocs.io/en/latest/index.html#typing_extensions.NotRequired)[Auth]`
```
Optional authentication for the HTTP client.
### ``StdioConnection[&para;](#langchain_mcp_adapters.sessions.StdioConnection)
Bases:`[TypedDict](https://typing-extensions.readthedocs.io/en/latest/index.html#typing_extensions.TypedDict)`
Configuration for stdio transport connections to MCP servers.
#### ``command`instance-attribute`[&para;](#langchain_mcp_adapters.sessions.StdioConnection.command)
```
`[](#__codelineno-0-1)command:[str](https://docs.python.org/3/library/stdtypes.html#str)`
```
The executable to run to start the server.
#### ``args`instance-attribute`[&para;](#langchain_mcp_adapters.sessions.StdioConnection.args)
```
`[](#__codelineno-0-1)args:[list](https://docs.python.org/3/library/stdtypes.html#list)[[str](https://docs.python.org/3/library/stdtypes.html#str)]`
```
Command line arguments to pass to the executable.
#### ``env`instance-attribute`[&para;](#langchain_mcp_adapters.sessions.StdioConnection.env)
```
`[](#__codelineno-0-1)env:[NotRequired](https://typing-extensions.readthedocs.io/en/latest/index.html#typing_extensions.NotRequired)[[dict](https://docs.python.org/3/library/stdtypes.html#dict)[[str](https://docs.python.org/3/library/stdtypes.html#str),[str](https://docs.python.org/3/library/stdtypes.html#str)]|None]`
```
The environment to use when spawning the process.
If not specified or set to None, a subset of the default environment
variables from the current process will be used.
Please refer to the MCP SDK documentation for details on which
environment variables are included by default. The behavior
varies by operating system.
[https://github.com/modelcontextprotocol/python-sdk/blob/c47c767ff437ee88a19e6b9001e2472cb6f7d5ed/src/mcp/client/stdio/\_\_init\_\_.py#L51](https://github.com/modelcontextprotocol/python-sdk/blob/c47c767ff437ee88a19e6b9001e2472cb6f7d5ed/src/mcp/client/stdio/__init__.py#L51)
#### ``cwd`instance-attribute`[&para;](#langchain_mcp_adapters.sessions.StdioConnection.cwd)
```
`[](#__codelineno-0-1)cwd:[NotRequired](https://typing-extensions.readthedocs.io/en/latest/index.html#typing_extensions.NotRequired)[[str](https://docs.python.org/3/library/stdtypes.html#str)|[Path](https://docs.python.org/3/library/pathlib.html#pathlib.Path)|None]`
```
The working directory to use when spawning the process.
#### ``encoding`instance-attribute`[&para;](#langchain_mcp_adapters.sessions.StdioConnection.encoding)
```
`[](#__codelineno-0-1)encoding:[NotRequired](https://typing-extensions.readthedocs.io/en/latest/index.html#typing_extensions.NotRequired)[[str](https://docs.python.org/3/library/stdtypes.html#str)]`
```
The text encoding used when sending/receiving messages to the server.
Default is 'utf-8'.
#### ``encoding\_error\_handler`instance-attribute`[&para;](#langchain_mcp_adapters.sessions.StdioConnection.encoding_error_handler)
```
`[](#__codelineno-0-1)encoding\_error\_handler:[NotRequired](https://typing-extensions.readthedocs.io/en/latest/index.html#typing_extensions.NotRequired)[EncodingErrorHandler]`
```
The text encoding error handler.
See[https://docs.python.org/3/library/codecs.html#codec-base-classes](https://docs.python.org/3/library/codecs.html#codec-base-classes)for
explanations of possible values.
Default is 'strict', which raises an error on encoding/decoding errors.
#### ``session\_kwargs`instance-attribute`[&para;](#langchain_mcp_adapters.sessions.StdioConnection.session_kwargs)
```
`[](#__codelineno-0-1)session\_kwargs:[NotRequired](https://typing-extensions.readthedocs.io/en/latest/index.html#typing_extensions.NotRequired)[[dict](https://docs.python.org/3/library/stdtypes.html#dict)[[str](https://docs.python.org/3/library/stdtypes.html#str),[Any](https://docs.python.org/3/library/typing.html#typing.Any)]|None]`
```
Additional keyword arguments to pass to the ClientSession.
### ``StreamableHttpConnection[&para;](#langchain_mcp_adapters.sessions.StreamableHttpConnection)
Bases:`[TypedDict](https://typing-extensions.readthedocs.io/en/latest/index.html#typing_extensions.TypedDict)`
Connection configuration for Streamable HTTP transport.
#### ``url`instance-attribute`[&para;](#langchain_mcp_adapters.sessions.StreamableHttpConnection.url)
```
`[](#__codelineno-0-1)url:[str](https://docs.python.org/3/library/stdtypes.html#str)`
```
The URL of the endpoint to connect to.
#### ``headers`instance-attribute`[&para;](#langchain_mcp_adapters.sessions.StreamableHttpConnection.headers)
```
`[](#__codelineno-0-1)headers:[NotRequired](https://typing-extensions.readthedocs.io/en/latest/index.html#typing_extensions.NotRequired)[[dict](https://docs.python.org/3/library/stdtypes.html#dict)[[str](https://docs.python.org/3/library/stdtypes.html#str),[Any](https://docs.python.org/3/library/typing.html#typing.Any)]|None]`
```
HTTP headers to send to the endpoint.
#### ``timeout`instance-attribute`[&para;](#langchain_mcp_adapters.sessions.StreamableHttpConnection.timeout)
```
`[](#__codelineno-0-1)timeout:[NotRequired](https://typing-extensions.readthedocs.io/en/latest/index.html#typing_extensions.NotRequired)[[timedelta](https://docs.python.org/3/library/datetime.html#datetime.timedelta)]`
```
HTTP timeout.
#### ``sse\_read\_timeout`instance-attribute`[&para;](#langchain_mcp_adapters.sessions.StreamableHttpConnection.sse_read_timeout)
```
`[](#__codelineno-0-1)sse\_read\_timeout:[NotRequired](https://typing-extensions.readthedocs.io/en/latest/index.html#typing_extensions.NotRequired)[[timedelta](https://docs.python.org/3/library/datetime.html#datetime.timedelta)]`
```
How long (in seconds) the client will wait for a new event before disconnecting.
All other HTTP operations are controlled by`timeout`.
#### ``terminate\_on\_close`instance-attribute`[&para;](#langchain_mcp_adapters.sessions.StreamableHttpConnection.terminate_on_close)
```
`[](#__codelineno-0-1)terminate\_on\_close:[NotRequired](https://typing-extensions.readthedocs.io/en/latest/index.html#typing_extensions.NotRequired)[[bool](https://docs.python.org/3/library/functions.html#bool)]`
```
Whether to terminate the session on close.
#### ``session\_kwargs`instance-attribute`[&para;](#langchain_mcp_adapters.sessions.StreamableHttpConnection.session_kwargs)
```
`[](#__codelineno-0-1)session\_kwargs:[NotRequired](https://typing-extensions.readthedocs.io/en/latest/index.html#typing_extensions.NotRequired)[[dict](https://docs.python.org/3/library/stdtypes.html#dict)[[str](https://docs.python.org/3/library/stdtypes.html#str),[Any](https://docs.python.org/3/library/typing.html#typing.Any)]|None]`
```
Additional keyword arguments to pass to the ClientSession.
#### ``httpx\_client\_factory`instance-attribute`[&para;](#langchain_mcp_adapters.sessions.StreamableHttpConnection.httpx_client_factory)
```
`[](#__codelineno-0-1)httpx\_client\_factory:[NotRequired](https://typing-extensions.readthedocs.io/en/latest/index.html#typing_extensions.NotRequired)[McpHttpClientFactory|None]`
```
Custom factory for httpx.AsyncClient (optional).
#### ``auth`instance-attribute`[&para;](#langchain_mcp_adapters.sessions.StreamableHttpConnection.auth)
```
`[](#__codelineno-0-1)auth:[NotRequired](https://typing-extensions.readthedocs.io/en/latest/index.html#typing_extensions.NotRequired)[Auth]`
```
Optional authentication for the HTTP client.
### ``WebsocketConnection[&para;](#langchain_mcp_adapters.sessions.WebsocketConnection)
Bases:`[TypedDict](https://typing-extensions.readthedocs.io/en/latest/index.html#typing_extensions.TypedDict)`
Configuration for WebSocket transport connections to MCP servers.
#### ``url`instance-attribute`[&para;](#langchain_mcp_adapters.sessions.WebsocketConnection.url)
```
`[](#__codelineno-0-1)url:[str](https://docs.python.org/3/library/stdtypes.html#str)`
```
The URL of the Websocket endpoint to connect to.
#### ``session\_kwargs`instance-attribute`[&para;](#langchain_mcp_adapters.sessions.WebsocketConnection.session_kwargs)
```
`[](#__codelineno-0-1)session\_kwargs:[NotRequired](https://typing-extensions.readthedocs.io/en/latest/index.html#typing_extensions.NotRequired)[[dict](https://docs.python.org/3/library/stdtypes.html#dict)[[str](https://docs.python.org/3/library/stdtypes.html#str),[Any](https://docs.python.org/3/library/typing.html#typing.Any)]|None]`
```
Additional keyword arguments to pass to the ClientSession
Back to top
